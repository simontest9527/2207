<!DOCTYPE html>
<html lang="zh_CN">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hello</title>
    <link rel="stylesheet" href="./css/index.css">
    <link rel="stylesheet" href="./iconfont/font_3520881_inl55x8ua5b/iconfont.css">
</head>

<body>
    <div class="container">
        <div class="top_nav">
            <img src="./images/navlogo.jpg" alt="">
            <div class="smallsearch">
                <div class="iconfont smallloup">&#xe622;</div>
                <input type="text" name="" id="" placeholder="搜索微博">
            </div>
            <ul>
                <li><i class="iconfont text">&#xe64f;</i></li>
                <li><i class="iconfont text">&#xe649;</i></li>
                <li><i class="iconfont text">&#xe8c9;</i></li>
                <li><i class="iconfont text">&#xe624;</i></li>
                <li class="hid"><i class="iconfont text">&#xe614;</i></li>
            </ul>
            <div class="twobutton">
                <button>登录</button>
                <button>注册</button>
            </div>
            <div class="twopics">
                <span class="iconfont">&#xe6ee;</span>
                <span class="iconfont zhuti">&#xe602;</span>
            </div>
            <button class="nobtn">哈哈无障碍</button>

        </div>
        <div class="white"></div>
        
        <div class="header">
            <div class="logo">
                <div class="iconfont eye">&#xe601;</div>
                <img src="./images/wbword1.png" alt="">
            </div>
            <div class="search">
                <div class="iconfont loup">&#xe622;</div>
                <input type="text" value="" placeholder="搜索微博">
                <button>搜索</button>
                <div class="iconfont sign"> &#xe784;</div>

            </div>
            <video src="./images/weibo_login (1).mp4" loop="loop" autoplay="autoplay" muted="muted"
                class="videos"></video>
        </div>
        <div class="bodycontainer">
            <div class="bodyleft">
                <ul>
                    <li class="one">
                        <i class="iconfont icon">&#xe8c9;</i>
                        <span class="wb">热门微博</span>
                    </li>
                    <li class="two">
                        <i class="iconfont icon">&#xeaf7;</i>
                        <span class="bd">热门榜单</span>
                    </li>
                    <li class="three">
                        <i class="iconfont icon">&#xe8b0;</i>
                        <span class="ht">话题榜</span>
                    </li>
                    <li class="four">
                        <i class="iconfont icon">&#xe723;</i>
                        <span class="rs">热搜榜</span>
                    </li>
                </ul>
            </div>
            <div class="bodymiddle">
                <div class="middlenav">
                    <ul>
                        <li>热门</li>
                        <li>同城</li>
                        <li>抗疫</li>
                        <li>明星</li>
                        <li>搞笑</li>
                        <li>情感</li>
                        <li>社会</li>
                        <li class="iconfont more">&#xe600;</li>
                    </ul>
                </div>
                <div class="middlebottom">
                    <!-- <div class="user1">
                        <div class="hd">
                            <img src="https://tvax1.sinaimg.cn/crop.0.0.1080.1080.180/0061L9kJly8h30rimxwohj30u00u0ac7.jpg?KID=imgbed,tva&Expires=1657710434&ssig=f6Y3Oa8xI0"
                                alt="">
                        </div>
                        <div class="info">
                            <div class="username">娱小圈</div>
                            <div class="endtime">2小时前</div>
                            <div class="kehu">来自 三星android智能手机</div>
                        </div>
                        <button class="guanzhu">+关注</button>
                        <div class="maintext">
                            <p><a href="//s.weibo.com/weibo?q=%23%E5%BE%AE%E5%8D%9A%E5%B0%86%E6%95%B4%E6%B2%BB%E7%94%A8%E8%B0%90%E9%9F%B3%E5%AD%97%E5%8F%98%E4%BD%93%E5%AD%97%E4%BC%A0%E6%92%AD%E4%B8%8D%E8%89%AF%E4%BF%A1%E6%81%AF%23"
                                    target="_blank">#微博将整治用谐音字变体字传播不良信息#</a><br />是时候，我葬爱家族重回巅峰了<img alt="[doge]"
                                    title="[doge]"
                                    src="https://face.t.sinajs.cn/t4/appstyle/expression/ext/normal/a1/2018new_doge02_org.png"></p>
                                <img src="./images/样式1.jpg" alt=""
                                class="imgs">
                        </div>
                        <ul>
                            <li><i class="iconfont mr">&#xe8b0;</i><span>111</span></li>
                            <li><i class="iconfont mr">&#xe604;</i><span>45</span></li>
                            <li><i class="iconfont mr">&#xe8ad;</i><span>578</span></li>
                        </ul>
                    </div> -->
                    <div class="htb">
                        <div class="title1">
                            <span class="fire2"><i class="fire1">1</i></span>
                            <div class="titlecon">#年龄越小戴牙套效果越好吗#</div>
                            <div class="neirong">【#年龄越小戴牙套效果越好吗#？[思考]】因为怕牙不齐影响孩子容貌，不少家长都有“牙齿矫正焦虑”，有的孩子两三岁就戴上了牙套。牙不齐，医学术语叫错颌畸形，#我国近七成儿童青少年患错颌畸形#。医生介绍，一般最佳矫治时间是十二三岁，恒牙已完成替换，骨头修复能力很好。你身边有戴牙套的朋</div>
                            <img src="https://wx2.sinaimg.cn/large/002TLsr9ly8h456s53ai4j60ay0aymxp02.jpg" alt="">
                            <div class="last">
                                 <div class="read">阅读1.9亿</div>
                            <div class="talk">讨论1.9亿</div>
                            </div>
                           
                        </div>
                    


                    </div>
                </div>
            </div>
            <div class="bodyright">
                <div class="righttop">
                    <div class="newthing">
                    </div>
                    <button class="load">立即登录</button>
                    <div class="question">还没有微博？<span>立即注册！</span></div>
                </div>
                <div class="hot">
                    <span>微博热搜</span>
                    <span class="shuashua"><i class="iconfont io">&#xe6a7;</i>点击刷新</span>
                    <div class="hostr"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="./js/data.js"></script>
    <script>
        //渲染右侧热搜界面
        var str = '';
        var hotsr = document.querySelector('.hostr');
        for (var i = 0; i < resou.data.band_list.length; i++) {
            str += `<ul>            
            <li class="list"><i class="${resou.data.band_list[i].realpos == 1 || resou.data.band_list[i].realpos == 2 || resou.data.band_list[i].realpos == 3 ? 'num' : 'num2'}">
                ${resou.data.band_list[i].realpos == undefined ? '·' : resou.data.band_list[i].realpos}</i>
                ${resou.data.band_list[i].note}`
                + `<i class="${resou.data.band_list[i].label_name == undefined || resou.data.band_list[i].label_name == '' ? '' : 'newhot'}"><span>${resou.data.band_list[i].label_name == undefined ? '' : resou.data.band_list[i].label_name}</span></i></li>
            </ul>`
        }
        hotsr.innerHTML = str;

         //点击立即刷新，数据写入新的       
        var shuashua = document.querySelector('.shuashua');
        shuashua.onclick = function () {
            var str = '';
            var hotsr = document.querySelector('.hostr');
            for (var i = 11; i < resou.data.band_list.length; i++) {
                str += `<ul>            
            <li class="list"><i class="${resou.data.band_list[i].realpos == 1 || resou.data.band_list[i].realpos == 2 || resou.data.band_list[i].realpos == 3 ? 'num' : 'num2'}">
                ${resou.data.band_list[i].realpos == undefined ? '·' : resou.data.band_list[i].realpos}</i>
                ${resou.data.band_list[i].note}`
                    + `<i class="${resou.data.band_list[i].label_name == undefined || resou.data.band_list[i].label_name == '' ? '' : 'newhot'}"><span>${resou.data.band_list[i].label_name == undefined ? '' : resou.data.band_list[i].label_name}</span></i></li>
            </ul>`
            }
            hotsr.innerHTML = str;
        }

        //获取发布于几小时前（函数
        function getDateDiff(dateTimeStamp) {
            var minute = 1000 * 60;
            var hour = minute * 60;
            var day = hour * 24;
            var halfamonth = day * 15;
            var month = day * 30;

            var now = new Date().getTime();
            var diffValue = now - dateTimeStamp;
            if (diffValue < 0) {
                //若日期不符则弹出窗口告之
                alert("结束日期不能小于开始日期！");
            }
            var monthC = diffValue / month;
            var weekC = diffValue / (7 * day);
            var dayC = diffValue / day;
            var hourC = diffValue / hour;
            var minC = diffValue / minute;
            if (monthC >= 1) {
                result = "发表于 " + parseInt(monthC) + "个月前";
            } else if (weekC >= 1) {
                result = "发表于 " + parseInt(weekC) + "周前";
            } else if (dayC >= 1) {
                result = "发表于 " + parseInt(dayC) + "天前";
            } else if (hourC >= 1) {
                result = "发表于 " + parseInt(hourC) + "个小时前";
            } else if (minC >= 1) {
                result = "发表于 " + parseInt(minC) + "分钟前";
            } else
                result = "刚刚发表";
            return result;
        }
        
        //渲染热门微博
        function rmwb() {
            var list = '';
            var middlebottom = document.querySelector('.middlebottom');
            for (let i = 0; i < remenwb.statuses.length; i++) {
                var endtime = new Date(remenwb.statuses[i].created_at).getTime()
                list += ` <div class="user1">
                        <div class="hd">
                            <img src="${remenwb.statuses[i].user.avatar_large}"
                                alt="">
                        </div>
                        <div class="info">
                            <div class="username">${remenwb.statuses[i].user.screen_name}</div>
                            <div class="endtime">${getDateDiff(endtime)}</div>
                            <div class="kehu">${remenwb.statuses[i].source}</div>
                        </div>
                        <button class="guanzhu">+关注</button>
                        <div class="maintext">
                            <p>${remenwb.statuses[i].text}</p>
                                <img src="${remenwb.statuses[i].user.avatar_large}" alt=""
                                class="imgs">
                        </div>
                        <ul>
                            <li><i class="iconfont mr">&#xe8b0;</i><span>111</span></li>
                            <li><i class="iconfont mr">&#xe604;</i><span>45</span></li>
                            <li><i class="iconfont mr">&#xe8ad;</i><span>578</span></li>
                        </ul>
                    </div>`;
        var one=document.querySelector('.one');
        one.style='background-color:#f5f5f5; color:#ff8200';
                }
            middlebottom.innerHTML = list;
        }
        rmwb()//开局调用一次

        var wb = document.querySelector('.wb');
        var one=document.querySelector('.one');
        var bd = document.querySelector('.bd');
        var ht = document.querySelector('.ht');

        var two=document.querySelector('.two');
        var three=document.querySelector('.three');

        var uese1=document.querySelector('.user1')
        //点击热门微博改变数据
        wb.addEventListener('click', () => {
            rmwb();
            one.style='background-color:#f5f5f5; color:#ff8200';
            two.style='background-color:#fff;';
            three.style='background-color:#fff';
            user1.style='display:none;';
        })
        
        //渲染热门榜单
        function rmbd() {
            var list = '';
            var middlebottom = document.querySelector('.middlebottom');
            for (let i = 0; i < remenbd.statuses.length; i++) {
                var endtime = new Date(remenbd.statuses[i].created_at).getTime()
                list += ` <div class="user1">
                        <div class="hd">
                            <img src="${remenbd.statuses[i].user.avatar_large}"
                                alt="">
                        </div>
                        <div class="info">
                            <div class="username">${remenbd.statuses[i].user.screen_name}</div>
                            <div class="endtime">${getDateDiff(endtime)}</div>
                            <div class="kehu">${remenbd.statuses[i].source}</div>
                        </div>
                        <button class="guanzhu">+关注</button>
                        <div class="maintext">
                            <p>${remenbd.statuses[i].text}</p>
                                <img src="${remenbd.statuses[i].user.avatar_large}" alt=""
                                class="imgs">
                        </div>
                        <ul>
                            <li><i class="iconfont mr">&#xe8b0;</i><span>111</span></li>
                            <li><i class="iconfont mr">&#xe604;</i><span>45</span></li>
                            <li><i class="iconfont mr">&#xe8ad;</i><span>578</span></li>
                        </ul>
                    </div>`;
            }
            middlebottom.innerHTML = list;
        }  
        
        //点击热门榜单改变数据
        bd.addEventListener('click', () => {
            rmbd();
            two.style='background-color:#f5f5f5; color:#ff8200';
            one.style='background-color:#fff';
            three.style='background-color:#fff';

        })
    
    
        //渲染话题榜
        function htb() {
            var list = '';
            var middlebottom = document.querySelector('.middlebottom');
            for (let i = 0; i < huati.data.statuses.length; i++) {
                list += ` <div class="htb">
                        <div class="title1">
                            <span class="${huati.data.statuses[i].rank== 1 || huati.data.statuses[i].rank== 2 || huati.data.statuses[i].rank== 3 ? 'fire' : 'fire2'}"><i class="fire1">${huati.data.statuses[i].rank}</i></span>


                            <div class="titlecon">#${huati.data.statuses[i].topic}#</div>
                            <div class="neirong">${huati.data.statuses[i].mblog.text}</div>
                            <div class="i"></div>
                            <div class="last">
                                 <div class="read">阅读1.9亿</div>
                            </div>
                           
                        </div>
                    


                    </div>`;
        // var one=document.querySelector('.one');
        // one.style='background-color:#f5f5f5; color:#ff8200';
                }
            middlebottom.innerHTML = list;
        }
        // htb()
        //点击话题榜改变数据

        ht.addEventListener('click',()=>{
            htb();
            three.style='background-color:#f5f5f5; color:#ff8200';
            one.style='background-color:#fff';
            two.style='background-color:#fff';

        })
    console.log(window.innerWidth);
    
    </script>

</body>

</html>